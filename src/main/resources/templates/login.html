<!DOCTYPE html>
<html>
<head>
  <title>PlayPalace - Login</title>
  <link rel="stylesheet" href="../static/css/login.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div class="wrapper">
  <div class="container">
    <div class="sign-up-container">
      <form id="signupForm">
        <h1>Create Account</h1>
        <span>or use your email for registration</span>
        <input type="text" id="signupName" placeholder="Name">
        <input type="email" id="signupEmail" placeholder="Email">
        <input type="password" id="signupPassword" placeholder="Password">
        <button type="button" class="form_btn" onclick="signup()">Sign Up</button>
      </form>
    </div>
    <div class="sign-in-container">
      <form id="signinForm">
        <h1>Sign In</h1>
        <span>or use your account</span>
        <input type="email" id="signinEmail" placeholder="Email">
        <input type="password" id="signinPassword" placeholder="Password">
        <button type="button" class="form_btn" onclick="signin()">Sign In</button>
      </form>
    </div>
    <div class="overlay-container">
      <div class="overlay-left">
        <h1>Welcome Back</h1>
        <p>To keep connected with us please login with your personal info</p>
        <button id="signIn" class="overlay_btn">Sign In</button>
      </div>
      <div class="overlay-right">
        <h1>Hello, Friend</h1>
        <p>Enter your personal details and start journey with us</p>
        <button id="signUp" class="overlay_btn">Sign Up</button>
      </div>
    </div>
  </div>
</div>

<script>
  function signup() {
    var name = $("#signupName").val();
    var email = $("#signupEmail").val();
    var password = $("#signupPassword").val();
    $.ajax({
      url: '/user/signup',
      type: 'POST',
      contentType: 'application/json',
      data: JSON.stringify({ name: name, email: email, password: password }),
      success: function(response) {
        alert("Signup successful");
      },
      error: function(error) {
        alert("Signup failed: " + error.responseText);
      }
    });
  }

  function signin() {
    var email = $("#signinEmail").val();
    var password = $("#signinPassword").val();
    $.ajax({
      url: '/login',
      type: 'POST',
      contentType: 'application/json',
      data: JSON.stringify({ email: email, password: password }),
      success: function(response) {
        alert("Login successful");
      },
      error: function(error) {
        alert("Login failed: " + error.responseText);
      }
    });
  }

  const signUpBtn = document.getElementById("signUp");
  const signInBtn = document.getElementById("signIn");
  const container = document.querySelector(".container");

  signUpBtn.addEventListener("click", () => {
    container.classList.add("right-panel-active");
  });

  signInBtn.addEventListener("click", () => {
    container.classList.remove("right-panel-active");
  });
</script>
</body>
</html>
